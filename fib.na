# A tail-recursive fib implementation

def fib n:
    if dec? 1 n:
        raise ValueError "fib: n must be greater than zero."
    def go a b n:
        if dec? 2 n:
            return b
        return go (b) (sum a b) (sum n -1)
    return go 1 1 n